import{_ as y,a as v}from"./2GiMKXSx.js";import w from"./D-GXKBHP.js";import{f as x}from"./C-puvzvJ.js";import{d as h,H as D,r as b,o as k,t as d,x as t,z as l,M as f,N as $,O as n,v as i,y as o}from"./D-DvHY3T.js";const j={class:"flex justify-center mt-2 space-x-1"},N={class:"flex items-center gap-2 px-4 py-1 bg-blue-500 border border-blue-300 rounded-md shadow-sm w-fit"},B={class:"flex items-center gap-2 px-4 py-1 bg-white border border-blue-300 rounded-md shadow-sm w-fit"},I={class:"flex items-center gap-2 px-4 py-1 bg-white border border-blue-300 rounded-md shadow-sm w-fit"},F={class:"mb-20 bg-gray-50 pt-2 pb-2"},H={class:"flex justify-between items-center px-3 py-2 border-b border-gray-200 bg-gray-50 rounded-t-lg"},M={class:"px-3 flex items-center justify-center bg-white text-gray-800 text-sm border border-gray-300"},R={class:"flex items-center text-sm bg-gray-200 rounded-md px-2 py-1"},V={class:"flex flex-col px-4 py-3 space-y-2 text-sm text-gray-800"},z={class:"flex"},A={class:"flex"},C={class:"flex"},E={class:"flex-1 flex justify-between"},G={class:"flex"},L={class:"flex items-center justify-between px-2 py-3 border-t border-gray-200 bg-gray-50 rounded-b-lg"},O={class:"flex items-center font-medium text-sm"},S={class:"ml-1 text-lg text-red-500"},U=h({__name:"approveRefund",setup(T){const{t:m}=D(),p=b([]),u=b([]);return k(async()=>{try{const a=await $fetch("/api/GetAllRefund");u.value=a.data,p.value=u.value.map(e=>({id:e.id,booking_id:e.booking_id,refund_amount:e.refund_amount,fullname:e.full_name,created_at:e.created_at,departure_loc:e.departure_loc,destination_loc:e.destination_loc,shuttle_date:e.shuttle_date,shuttle_time:e.shuttle_time}))}catch{alert("Fetch error")}}),(a,e)=>{const c=y,r=w,_=v;return i(),d(f,null,[t("div",null,[l(c,{title:"退款審核"})]),t("div",j,[t("div",N,[l(r,{name:"material-symbols:border-all-rounded",class:"w-5 h-5 text-white"}),e[0]||(e[0]=t("p",{class:"text-sm font-medium text-white"},"全部",-1))]),t("div",B,[l(r,{name:"mingcute:bill-fill",class:"w-5 h-5 text-blue-500"}),e[1]||(e[1]=t("p",{class:"text-sm font-medium text-blue-600"},"待批准的退款",-1))]),t("div",I,[l(r,{name:"lets-icons:done-all-round",class:"w-5 h-5 text-blue-500"}),e[2]||(e[2]=t("p",{class:"text-sm font-medium text-blue-600"},"已通过",-1))])]),t("div",F,[(i(!0),d(f,null,$(n(p),(s,g)=>(i(),d("div",{class:"bg-white border border-gray-400 mx-2 mb-4 rounded-lg shadow-sm",key:g},[t("div",H,[t("div",M,[e[3]||(e[3]=t("p",{class:"text-gray-500"},"訂單ID：",-1)),t("p",null,o(s.id),1)]),t("div",R,[l(r,{name:"material-symbols:order-approve",class:"w-4 h-4 mr-1 text-blue-500"}),e[4]||(e[4]=t("span",{class:"mr-1"},"單號：",-1)),t("span",null,o(s.booking_id),1)])]),t("div",V,[t("div",z,[e[5]||(e[5]=t("span",{class:"w-24 text-gray-400"},"申請账号：",-1)),t("span",null,o(s.fullname),1)]),t("div",A,[e[6]||(e[6]=t("span",{class:"w-24 text-gray-400"},"申请时间：",-1)),t("span",null,o(("formatDate"in a?a.formatDate:n(x))(s.created_at)),1)]),t("div",C,[e[8]||(e[8]=t("span",{class:"w-24 text-gray-400"},"旅程：",-1)),t("span",E,[t("span",null,o(n(m)(`${s.departure_loc}`)),1),e[7]||(e[7]=t("span",null,"to",-1)),t("span",null,o(n(m)(`${s.destination_loc}`)),1)])]),t("div",G,[e[9]||(e[9]=t("span",{class:"w-24 text-gray-400"},"出車時間：",-1)),t("span",null,o(("formatDate"in a?a.formatDate:n(x))(s.shuttle_date))+" "+o(s.shuttle_time),1)])]),t("div",L,[t("div",O,[e[10]||(e[10]=t("span",{class:"text-xl text-red-500"},"*",-1)),e[11]||(e[11]=t("span",{class:"ml-1 text-gray-500"},"退款金額：",-1)),e[12]||(e[12]=t("span",{class:"text-gray-500"},"NT$",-1)),t("span",S,o(s.refund_amount),1)]),e[13]||(e[13]=t("div",{class:"flex space-x-2"},[t("button",{class:"rounded border text-red-400 border-red-500 hover:bg-red-400 hover:text-white px-3 py-1 text-sm transition"}," 拒絕退款 "),t("button",{class:"rounded bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 text-sm transition"}," 同意退款 ")],-1))])]))),128))]),t("div",null,[l(_)])],64)}}});export{U as default};
